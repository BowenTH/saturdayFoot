<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
			<script type="text/javascript" src="../js/jquery.js" ></script>
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" type="text/css" href="../css/iconfont.css"/>
		
		<style>
			body, .mui-content {
				background-color: #333;
				color: #fff;
			}
			header.mui-bar{
				display: none;
			}
			.mui-bar-nav~.mui-content{
				padding: 0;
			}
			 .title{
			  	margin: 35px 15px 10px;
			  }
			  .title+.content{
			  	margin: 10px 15px 35px;
			  	color: #bbb;
			  	text-indent: 1em;
			  	font-size: 14px;
			  	line-height: 24px;
			  }
			  .mui-table-view{
			  	margin-bottom: 35px;
			  }
		</style>
	</head>
	<body>
		<div class="mui-content">
			
					<p style="margin: 10px 15px;" hidden="hidden">
						<button id="close-btn" type="button" class="mui-btn mui-btn-danger mui-btn-block" style="padding: 5px 20px;">关闭侧滑菜单</button>
					</p>
					
				</div>
				<div id="picBg" style="width: 100%;height: 200px;background: url(http://onemx0fwv.bkt.clouddn.com/picoffyjl.jpg);background-size: 100% 100%;text-align: center;">
					<img src="../img/ltouxiang.jpg" style="border: 1px solid black;border-radius: 50%;" />
					<p style="font-size: 150%;font-weight: 700;color: white;">你不要连逃跑都那么帅</p>
					
				</div>
				<!--<div class="title" style="margin-bottom: 25px;">侧滑列表示例</div>-->
				<ul class="mui-table-view mui-table-view-chevron mui-table-view-inverted">
					<li class="mui-table-view-cell">
						
						<span class="icon iconfont icon-icon066" style="color:#FF0000;font-size: 140%;margin-right: 10px;"></span>	我的消息
						
					</li>
					
					
					<li class="mui-table-view-cell" id="live">
						
							<span class="icon iconfont icon-shenghuo" style="color: aquamarine;font-size: 140%;margin-right: 10px;"></span>一方生活
						
					</li>
					<li class="mui-table-view-cell" id="gossip">
						
					<span class="icon iconfont icon-ba" style="color: #FFFF00;font-size: 140%;margin-right: 10px;"></span>		一方八卦
						
					</li>
					<li class="mui-table-view-cell" id="help">
						
					<span class="icon iconfont icon-qiuzhu" style="color:aqua;font-size: 140%;margin-right: 10px;"></span>		一方求助
						
					</li>
					<li class="mui-table-view-cell" id="solve">
					
					<span class="icon iconfont icon-wenda" style="color: crimson;font-size: 140%;margin-right: 10px;"></span>	一方问答
						
					</li>
					<li class="mui-table-view-cell" id="recommend">
						
						<span class="icon iconfont icon-tuijiankaobei4-left" style="color: lightslategray;font-size: 140%;margin-right: 10px;"></span>	一方推荐
						
					</li>
					<li class="mui-table-view-cell" id="apointment">
					
						<span class="icon iconfont icon-qianyue" style="color:#2AC845;font-size: 140%;margin-right: 10px;"></span>	一方相约
						
					</li>
					<li class="mui-table-view-cell" id="article">
						
						<span class="icon iconfont icon-wenzhang" style="color: lightblue;font-size: 140%;margin-right: 10px;"></span>一方好文
						
					</li>
					
				</ul>
		</div>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript" charset="utf-8">
			mui.init({
				keyEventBind: {
					backbutton: false,
					menubutton: false
				}
			});
			//获得侧滑主窗口webview对象
			var main = null;
			var ws=null;
			mui.plusReady(function () {
				main = plus.webview.currentWebview().opener();
				ws=	plus.webview.create('live.html','live.html');
				wati=plus.webview.create('article.html','article.html');
				wsolve =plus.webview.create('solve.html','solve.html');
				whelp= plus.webview.create('help.html','help.html');
				wrecom=plus.webview.create('recommend.html','recommend.html');
				wapointment =plus.webview.create('appointment.html','appointment.html');
				wgossip= plus.webview.create('gossip.html','gossip.html');
			})
			function closeMenu () {
				mui.fire(main,"menu:swipeleft");
			}
			//优化显示出来的侧滑菜单，只需监听该菜单的左滑事件，然后将其关闭即可；在菜单上右滑，不做任何操作；
			window.addEventListener("swipeleft",closeMenu);  
			document.getElementById("close-btn").addEventListener('tap',closeMenu);
			mui.menu = closeMenu;
			$('#live').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(ws));
				plus.webview.getWebviewById('live.html').show();
			});
			$('#article').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(wati));
				plus.webview.getWebviewById('article.html').show();
			});
			$('#solve').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(wati));
				plus.webview.getWebviewById('solve.html').show();
			});
			$('#help').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(wati));
				plus.webview.getWebviewById('help.html').show();
				
				
				
				
			});
			$('#recommend').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(wati));
				plus.webview.getWebviewById('recommend.html').show();
				
				
				
				
			});
			$('#apointment').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(wati));
				plus.webview.getWebviewById('appointment.html').show();
				
				
				
				
			});
			$('#gossip').on('tap',function(){
				closeMenu();
				if(plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html')==null)
				return false;
				plus.webview.getWebviewById('offcanvas-drag-right-plus-main.html').hide();
				console.log(JSON.stringify(wati));
				plus.webview.getWebviewById('gossip.html').show();
				
				
				
				
			})
		</script>
</body>

</html>